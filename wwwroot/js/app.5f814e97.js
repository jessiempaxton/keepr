(function(e){function t(t){for(var a,o,i=t[0],l=t[1],c=t[2],p=0,d=[];p<i.length;p++)o=i[p],r[o]&&d.push(r[o][0]),r[o]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);u&&u(t);while(d.length)d.shift()();return n.push.apply(n,c||[]),s()}function s(){for(var e,t=0;t<n.length;t++){for(var s=n[t],a=!0,i=1;i<s.length;i++){var l=s[i];0!==r[l]&&(a=!1)}a&&(n.splice(t--,1),e=o(o.s=s[0]))}return e}var a={},r={app:0},n=[];function o(t){if(a[t])return a[t].exports;var s=a[t]={i:t,l:!1,exports:{}};return e[t].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=e,o.c=a,o.d=function(e,t,s){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(s,a,function(t){return e[t]}.bind(null,a));return s},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var u=l;n.push([0,"chunk-vendors"]),s()})({0:function(e,t,s){e.exports=s("56d7")},"034f":function(e,t,s){"use strict";var a=s("64a9"),r=s.n(a);r.a},"0aee":function(e,t,s){},"56d7":function(e,t,s){"use strict";s.r(t);var a=s("2b0e"),r=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{attrs:{id:"app"}},[s("router-view")],1)},n=[],o=(s("034f"),s("2877")),i={},l=Object(o["a"])(i,r,n,!1,null,null,null),c=l.exports,u=s("8c4f"),p=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"home"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[s("nav",{staticClass:"navbar navbar-expand-lg justify-content-between"},[e._m(0),e._m(1),s("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarTogglerDemo02"}},[s("ul",{staticClass:"navbar-nav mr-auto mt-2 mt-lg-0"},[e._m(2),s("li",{staticClass:"nav-item"},[s("a",{staticClass:"nav-link",attrs:{href:"#"}},[e.user.id?s("router-link",{staticStyle:{color:"#c36a2d"},attrs:{to:{name:"collections"},title:"Collections"}},[e._v("\n                  Collections")]):e._e()],1)]),e._m(3),e._m(4)]),e.user.id?s("button",{staticClass:"btn btn-secondary",on:{click:e.logout}},[e._v("Logout")]):s("router-link",{attrs:{to:{name:"login"}}},[e._v("Login")])],1)])])]),s("div",{staticClass:"row"},[s("div",{staticClass:"col-12"},[s("h1",[e._v("Welcome Home "+e._s(e.user.username))])])]),s("div",{staticClass:"col-12"},[s("h5",[e._v("Create New Collection:")]),e.user.id?s("form",{on:{submit:function(t){return t.preventDefault(),e.createVault(t)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.newVault.name,expression:"newVault.name"}],staticClass:"form-control form-control-sm",attrs:{required:"",type:"text",placeholder:"Collection Name"},domProps:{value:e.newVault.name},on:{input:function(t){t.target.composing||e.$set(e.newVault,"name",t.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.newVault.description,expression:"newVault.description"}],staticClass:"form-control form-control-sm",attrs:{required:"",type:"text",placeholder:"Description"},domProps:{value:e.newVault.description},on:{input:function(t){t.target.composing||e.$set(e.newVault,"description",t.target.value)}}}),s("button",{attrs:{type:"submit"}},[e._v("Submit")])]):e._e(),s("h5",[e._v("Create New Keep:")]),e.user.id?s("form",{on:{submit:function(t){return t.preventDefault(),e.createKeep(t)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.newKeep.img,expression:"newKeep.img"}],staticClass:"form-control form-control-sm",attrs:{required:"",type:"text",placeholder:"Image URL"},domProps:{value:e.newKeep.img},on:{input:function(t){t.target.composing||e.$set(e.newKeep,"img",t.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.newKeep.name,expression:"newKeep.name"}],staticClass:"form-control form-control-sm",attrs:{required:"",type:"text",placeholder:"Name"},domProps:{value:e.newKeep.name},on:{input:function(t){t.target.composing||e.$set(e.newKeep,"name",t.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.newKeep.description,expression:"newKeep.description"}],staticClass:"form-control form-control-sm",attrs:{required:"",type:"text",placeholder:"Description"},domProps:{value:e.newKeep.description},on:{input:function(t){t.target.composing||e.$set(e.newKeep,"description",t.target.value)}}}),e._v("\n      Private?"),s("input",{directives:[{name:"model",rawName:"v-model",value:e.newKeep.isPrivate,expression:"newKeep.isPrivate"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.newKeep.isPrivate)?e._i(e.newKeep.isPrivate,null)>-1:e.newKeep.isPrivate},on:{change:function(t){var s=e.newKeep.isPrivate,a=t.target,r=!!a.checked;if(Array.isArray(s)){var n=null,o=e._i(s,n);a.checked?o<0&&e.$set(e.newKeep,"isPrivate",s.concat([n])):o>-1&&e.$set(e.newKeep,"isPrivate",s.slice(0,o).concat(s.slice(o+1)))}else e.$set(e.newKeep,"isPrivate",r)}}}),s("button",{attrs:{type:"submit"}},[e._v("Submit")])]):e._e()]),s("div",{staticClass:"row keeps"},e._l(e.keeps,function(t){return e.user.id?s("div",{key:t.id,staticClass:"col-lg-3 col-md-4 col-sm-6"},[s("div",{staticClass:"card",staticStyle:{width:"16rem"}},[s("img",{staticClass:"card-img-top",attrs:{src:"",alt:"image"}}),s("div",{staticClass:"card-body"},[s("h5",{staticClass:"card-title"},[e._v(e._s(t.name))]),s("p",{staticClass:"card-text"},[e._v(e._s(t.description)+"\n          ")])]),s("ul",{staticClass:"list-group list-group-flush"},[s("li",{staticClass:"list-group-item",staticStyle:{"background-color":"#e2c175"}},[e._v("Private: "+e._s(t.isPrivate)+" - Views:\n            "+e._s(t.views))]),s("li",{staticClass:"list-group-item",staticStyle:{"background-color":"#e2c175"}},[e._v("Shares: "+e._s(t.shares)+" - Keeps:\n            "+e._s(t.shares))])]),s("select",{directives:[{name:"model",rawName:"v-model",value:e.selected,expression:"selected"}],on:{change:[function(t){var s=Array.prototype.filter.call(t.target.options,function(e){return e.selected}).map(function(e){var t="_value"in e?e._value:e.value;return t});e.selected=t.target.multiple?s:s[0]},function(s){e.addKeep(t.id)}]}},[s("option",{attrs:{disabled:"",value:""}},[e._v("Archive to Collection")]),e._l(e.vaults,function(t){return s("option",{domProps:{value:t.id}},[e._v(e._s(t.name))])})],2)])]):e._e()}))])},d=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("a",{staticClass:"navbar-brand",staticStyle:{color:"#c36a2d"}},[s("b",[e._v("KPR")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("button",{staticClass:"navbar-toggler",attrs:{type:"button","data-toggle":"collapse","data-target":"#navbarTogglerDemo02","aria-controls":"navbarTogglerDemo02","aria-expanded":"false","aria-label":"Toggle navigation"}},[s("span",{staticClass:"navbar-toggler-icon"})])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("li",{staticClass:"nav-item active"},[s("a",{staticClass:"nav-link",staticStyle:{color:"#c36a2d"},attrs:{href:"#"}},[e._v("Home "),s("span",{staticClass:"sr-only"},[e._v("(current)")])])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("li",{staticClass:"nav-item"},[s("a",{staticClass:"nav-link",attrs:{href:"#"}},[e._v("New Post")])])},function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("li",{staticClass:"nav-item"},[s("a",{staticClass:"nav-link",attrs:{href:"#"}},[e._v("New Collection")])])}],m={name:"home",data(){return{newVault:{name:"",description:""},newKeep:{img:"",name:"",description:"",isPrivate:0},selected:""}},mounted(){this.$store.dispatch("getKeeps")},computed:{user(){return this.$store.state.user},keeps(){return this.$store.state.keeps},vaults(){return this.$store.state.vaults}},methods:{logout(){this.$store.dispatch("logout")},addKeep(e){let t={keepId:e,vaultId:this.selected};this.$store.dispatch("addKeep",t)},createKeep(e){this.$store.dispatch("createKeep",this.newKeep)},createVault(e){this.$store.dispatch("createVault",this.newVault)}}},v=m,h=(s("f8d1"),Object(o["a"])(v,p,d,!1,null,"60960e23",null)),g=h.exports,f=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"login"},[e.loginForm?s("form",{on:{submit:function(t){return t.preventDefault(),e.loginUser(t)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.creds.email,expression:"creds.email"}],attrs:{type:"email",placeholder:"email"},domProps:{value:e.creds.email},on:{input:function(t){t.target.composing||e.$set(e.creds,"email",t.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.creds.password,expression:"creds.password"}],attrs:{type:"password",placeholder:"password"},domProps:{value:e.creds.password},on:{input:function(t){t.target.composing||e.$set(e.creds,"password",t.target.value)}}}),s("button",{attrs:{type:"submit"}},[e._v("Login")])]):s("form",{on:{submit:function(t){return t.preventDefault(),e.register(t)}}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.newUser.username,expression:"newUser.username"}],attrs:{type:"text",placeholder:"name"},domProps:{value:e.newUser.username},on:{input:function(t){t.target.composing||e.$set(e.newUser,"username",t.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.newUser.email,expression:"newUser.email"}],attrs:{type:"email",placeholder:"email"},domProps:{value:e.newUser.email},on:{input:function(t){t.target.composing||e.$set(e.newUser,"email",t.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.newUser.password,expression:"newUser.password"}],attrs:{type:"password",placeholder:"password"},domProps:{value:e.newUser.password},on:{input:function(t){t.target.composing||e.$set(e.newUser,"password",t.target.value)}}}),s("button",{attrs:{type:"submit"}},[e._v("Create Account")])]),s("div",{on:{click:function(t){e.loginForm=!e.loginForm}}},[e.loginForm?s("p",[e._v("No account Click to Register")]):s("p",[e._v("Already have an account click to Login")])])])},w=[],_={name:"login",data(){return{loginForm:!0,creds:{email:"",password:""},newUser:{email:"",password:"",username:""}}},beforeCreate(){this.$store.state.user.id&&this.$router.push({name:"home"})},methods:{register(){this.$store.dispatch("register",this.newUser)},loginUser(){this.$store.dispatch("login",this.creds)}}},b=_,y=Object(o["a"])(b,f,w,!1,null,null,null),K=y.exports,C=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"collections"},[s("div",{staticClass:"row"},[e._m(0),s("div",{staticClass:"col-4"},[s("h4",[e._v("Your Posts")]),e._l(e.userKeeps,function(t){return s("div",{key:t.id,staticClass:"col"},[s("b",[e._v("(IMAGE)")]),e._v(e._s(t.img)+" "),s("b",[e._v("(NAME)")]),e._v(e._s(t.name)+" "),s("b",[e._v("(DESC)")]),e._v(e._s(t.description)+"\n            "),s("b",[e._v("(PRIVATE?)")]),e._v(e._s(t.isPrivate)+"\n            "),s("button",{on:{click:function(s){e.deleteKeep(t.id)}}},[e._v("Delete")])])})],2),s("div",{staticClass:"col-8"},[s("h4",[e._v("Your Collections")]),e._l(e.vaults,function(t){return s("div",{key:t.id,staticClass:"col"},[s("router-link",{attrs:{to:{name:"collectionsArchive",params:{id:t.id}}}},[s("b",[e._v("(NAME)")]),e._v(e._s(t.name)+" "),s("b",[e._v("(DESCRIPTION)")]),e._v(e._s(t.description))]),s("button",{on:{click:function(s){e.deleteVault(t.id)}}},[e._v("Delete")])],1)})],2)])])},$=[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"col-12"},[s("h2",[e._v("COLLECTIONS")])])}],k={name:"collections",props:[],data(){return{}},mounted(){this.$store.dispatch("getVaults"),this.$store.dispatch("getUserKeeps")},computed:{vaults(){return this.$store.state.vaults},userKeeps(){return this.$store.state.userKeeps}},methods:{deleteVault(e){this.$store.dispatch("deleteVault",e)},deleteKeep(e){this.$store.dispatch("deleteKeep",e)}},components:{}},P=k,V=Object(o["a"])(P,C,$,!1,null,null,null),x=V.exports,U=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col"},[s("h4",[e._v("ARCHIVE")]),e._l(e.vaultKeeps,function(t){return s("div",{key:t.id,staticClass:"col"},[e._v("\n        "+e._s(t.img)+e._s(t.name)+e._s(t.description)+"\n        "),s("button",{on:{click:function(s){e.removeKeep(t.id)}}},[e._v("Remove")])])})],2)])])},N=[],E={name:"collectionsArchive",props:[],data(){return{}},mounted(){this.$store.dispatch("getVaultKeeps",this.$route.params.id)},computed:{vaultKeeps(){return this.$store.state.vaultKeeps}},methods:{removeKeep(e){let t=this.$route.params.id;this.$store.dispatch("removeKeep",{keepId:e,vaultId:t})}},components:{}},S=E,A=Object(o["a"])(S,U,N,!1,null,null,null),O=A.exports;a["a"].use(u["a"]);var j=new u["a"]({routes:[{path:"/",name:"home",component:g},{path:"/login",name:"login",component:K},{path:"/collections",name:"collections",component:x},{path:"/collections/:id",name:"collectionsArchive",props:!0,component:O}]}),D=s("2f62"),I=s("bc3a"),L=s.n(I);let R=location.host.includes("localhost")?"//localhost:5000/":"/",T=L.a.create({baseURL:R+"account/",timeout:3e3,withCredentials:!0});class M{static async Login(e){try{let s=await T.post("login",e);return s.data}catch(t){throw new Error("[login failed] :"+t.response.data)}}static async Register(e){try{let s=await T.post("register",e);return s.data}catch(t){throw new Error("[registration failed] :"+t.response.data)}}static async Logout(){try{await T.delete("logout");return!0}catch(e){throw new Error("[logout failed] :"+e.response.data)}}static async Authenticate(){try{let t=await T.get("authenticate");return t.data}catch(e){console.warn("[Authentication failed] :"+e.response.data)}}}a["a"].use(D["a"]);let q=location.host.includes("localhost")?"//localhost:5000/":"/",F=L.a.create({baseURL:q+"api/",timeout:3e3,withCredentials:!0});var H=new D["a"].Store({state:{user:{},keeps:[],userKeeps:[],vaults:[],vaultKeeps:[]},mutations:{setUser(e,t){e.user=t},resetState(e){e.user={}},setKeeps(e,t){e.keeps=t},setUserKeeps(e,t){e.userKeeps=t},setVaults(e,t){e.vaults=t},setVaultKeeps(e,t){e.vaultKeeps=t},addVaultKeep(e,t){e.vaultKeeps.push(t)},addKeep(e,t){e.keeps.push(t)},addVault(e,t){e.vaults.push(t)}},actions:{async register({commit:e,dispatch:t},s){try{let t=await M.Register(s);e("setUser",t),j.push({name:"home"})}catch(a){console.warn(a.message)}},async login({commit:e,dispatch:t},s){try{let t=await M.Login(s);e("setUser",t),j.push({name:"home"})}catch(a){console.warn(a.message)}},async logout({commit:e,dispatch:t}){try{await M.Logout();e("resetState"),j.push({name:"login"})}catch(s){console.warn(s.message)}},getKeeps({commit:e,dispatch:t}){F.get("keeps").then(t=>{e("setKeeps",t.data)})},getUserKeeps({commit:e,dispatch:t}){F.get("keeps/user").then(t=>{e("setUserKeeps",t.data)})},async createKeep({commit:e,dispatch:t},s){try{await F.post("keeps",s);t("getKeeps")}catch(a){console.error(a)}},async addKeep({commit:e,dispatch:t},s){try{let e=await F.post("vaultkeeps",s);t("getKeeps",s.vaultId),t("getKeeps"),console.log(e)}catch(a){console.error(a)}},deleteKeep({commit:e,dispatch:t},s){F.delete("keeps/"+s).then(e=>{t("getKeeps")})},getVaults({commit:e,dispatch:t}){F.get("vaults").then(t=>{e("setVaults",t.data)})},async createVault({commit:e,dispatch:t},s){try{await F.post("vaults",s);t("getVaults")}catch(a){console.error(a)}},deleteVault({commit:e,dispatch:t},s){F.delete("vaults/"+s).then(e=>{t("getVaults")})},getVaultKeeps({commit:e,dispatch:t},s){F.get("/vaultkeeps/"+s).then(t=>{e("setVaultKeeps",t.data)})},removeKeep({commit:e,dispatch:t},s){F.put("/vaultkeeps",s).then(e=>{t("getVaultKeeps",s.vaultId)})}}});async function J(){let e=await M.Authenticate();e&&H.commit("setUser",e),new a["a"]({router:j,store:H,render:e=>e(c)}).$mount("#app")}J()},"64a9":function(e,t,s){},f8d1:function(e,t,s){"use strict";var a=s("0aee"),r=s.n(a);r.a}});